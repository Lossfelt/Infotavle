{"ast":null,"code":"import dateformat from \"dateformat\";\nexport function behandleRutetider(data) {\n  var linjerMotByen = [];\n  var linjerFraByen = [];\n  data.forEach(function (element) {\n    var avgang = [];\n    var forsinket = false;\n    var kansellert = false;\n    var avvik = \"\";\n    if (element.serviceJourney.journeyPattern.line.transportMode === \"bus\") {\n      avgang.push(dateformat(element.aimedDepartureTime, \"HH:MM\"), dateformat(element.expectedDepartureTime, \"HH:MM\"));\n      //avgang = dateformat(element.expectedDepartureTime, \"HH:MM\");\n      if (dateformat(element.expectedDepartureTime, \"HH:MM\") !== dateformat(element.aimedDepartureTime, \"HH:MM\")) {\n        forsinket = true;\n      }\n      if (element.cancellation) {\n        kansellert = true;\n      }\n      if (element.situations.length) {\n        avvik = element.situations;\n      }\n    }\n    if (element.quay.id === \"NSR:Quay:10920\" && element.serviceJourney.journeyPattern.line.id === \"RUT:Line:70\") {\n      linjerMotByen.push({\n        Avgang: avgang,\n        Forsinket: forsinket,\n        Kansellert: kansellert,\n        Avvik: avvik\n      });\n    }\n    if (element.quay.id === \"NSR:Quay:10920\" && element.serviceJourney.journeyPattern.line.id === \"RUT:Line:78\") {\n      linjerFraByen.push({\n        Avgang: avgang,\n        Forsinket: forsinket,\n        Kansellert: kansellert,\n        Avvik: avvik\n      });\n    }\n    if (element.quay.id === \"NSR:Quay:10920\" && element.serviceJourney.journeyPattern.line.id === \"RUT:Line:3969\") {\n      avgang = avgang.map(function (dep) {\n        return \"E\" + dep;\n      });\n      linjerMotByen.push({\n        Avgang: avgang,\n        Forsinket: forsinket,\n        Kansellert: kansellert,\n        Avvik: avvik\n      });\n    }\n  });\n  var begge = [linjerFraByen, linjerMotByen];\n  //console.log(linjerMotByen);\n  //console.log(linjerFraByen);\n  return begge;\n}","map":{"version":3,"names":["dateformat","behandleRutetider","data","linjerMotByen","linjerFraByen","forEach","element","avgang","forsinket","kansellert","avvik","serviceJourney","journeyPattern","line","transportMode","push","aimedDepartureTime","expectedDepartureTime","cancellation","situations","length","quay","id","Avgang","Forsinket","Kansellert","Avvik","map","dep","begge"],"sources":["C:/Users/LevinLÃ¸ssfelt/Repositories/Infotavle/src/funcRutetider.js"],"sourcesContent":["import dateformat from \"dateformat\";\r\n\r\nexport function behandleRutetider(data) {\r\n  var linjerMotByen = [];\r\n  var linjerFraByen = [];\r\n\r\n  data.forEach((element) => {\r\n    var avgang = [];\r\n    var forsinket = false;\r\n    var kansellert = false;\r\n    var avvik = \"\";\r\n    if (element.serviceJourney.journeyPattern.line.transportMode === \"bus\") {\r\n      avgang.push(\r\n        dateformat(element.aimedDepartureTime, \"HH:MM\"),\r\n        dateformat(element.expectedDepartureTime, \"HH:MM\")\r\n      );\r\n      //avgang = dateformat(element.expectedDepartureTime, \"HH:MM\");\r\n      if (\r\n        dateformat(element.expectedDepartureTime, \"HH:MM\") !==\r\n        dateformat(element.aimedDepartureTime, \"HH:MM\")\r\n      ) {\r\n        forsinket = true;\r\n      }\r\n      if (element.cancellation) {\r\n        kansellert = true;\r\n      }\r\n      if (element.situations.length) {\r\n        avvik = element.situations;\r\n      }\r\n    }\r\n    if (\r\n      element.quay.id === \"NSR:Quay:10920\" &&\r\n      element.serviceJourney.journeyPattern.line.id === \"RUT:Line:70\"\r\n    ) {\r\n      linjerMotByen.push({\r\n        Avgang: avgang,\r\n        Forsinket: forsinket,\r\n        Kansellert: kansellert,\r\n        Avvik: avvik\r\n      });\r\n    }\r\n    if (\r\n      element.quay.id === \"NSR:Quay:10920\" &&\r\n      element.serviceJourney.journeyPattern.line.id === \"RUT:Line:78\"\r\n    ) {\r\n      linjerFraByen.push({\r\n        Avgang: avgang,\r\n        Forsinket: forsinket,\r\n        Kansellert: kansellert,\r\n        Avvik: avvik\r\n      });\r\n    }\r\n    if (\r\n      element.quay.id === \"NSR:Quay:10920\" &&\r\n      element.serviceJourney.journeyPattern.line.id === \"RUT:Line:3969\"\r\n    ) {\r\n      avgang = avgang.map((dep) => \"E\" + dep);\r\n      linjerMotByen.push({\r\n        Avgang: avgang,\r\n        Forsinket: forsinket,\r\n        Kansellert: kansellert,\r\n        Avvik: avvik,\r\n      });\r\n    }\r\n  });\r\n  var begge = [linjerFraByen, linjerMotByen];\r\n  //console.log(linjerMotByen);\r\n  //console.log(linjerFraByen);\r\n  return begge;\r\n}\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,OAAO,SAASC,iBAAiBA,CAACC,IAAI,EAAE;EACtC,IAAIC,aAAa,GAAG,EAAE;EACtB,IAAIC,aAAa,GAAG,EAAE;EAEtBF,IAAI,CAACG,OAAO,CAAC,UAACC,OAAO,EAAK;IACxB,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIC,SAAS,GAAG,KAAK;IACrB,IAAIC,UAAU,GAAG,KAAK;IACtB,IAAIC,KAAK,GAAG,EAAE;IACd,IAAIJ,OAAO,CAACK,cAAc,CAACC,cAAc,CAACC,IAAI,CAACC,aAAa,KAAK,KAAK,EAAE;MACtEP,MAAM,CAACQ,IAAI,CACTf,UAAU,CAACM,OAAO,CAACU,kBAAkB,EAAE,OAAO,CAAC,EAC/ChB,UAAU,CAACM,OAAO,CAACW,qBAAqB,EAAE,OAAO,CACnD,CAAC;MACD;MACA,IACEjB,UAAU,CAACM,OAAO,CAACW,qBAAqB,EAAE,OAAO,CAAC,KAClDjB,UAAU,CAACM,OAAO,CAACU,kBAAkB,EAAE,OAAO,CAAC,EAC/C;QACAR,SAAS,GAAG,IAAI;MAClB;MACA,IAAIF,OAAO,CAACY,YAAY,EAAE;QACxBT,UAAU,GAAG,IAAI;MACnB;MACA,IAAIH,OAAO,CAACa,UAAU,CAACC,MAAM,EAAE;QAC7BV,KAAK,GAAGJ,OAAO,CAACa,UAAU;MAC5B;IACF;IACA,IACEb,OAAO,CAACe,IAAI,CAACC,EAAE,KAAK,gBAAgB,IACpChB,OAAO,CAACK,cAAc,CAACC,cAAc,CAACC,IAAI,CAACS,EAAE,KAAK,aAAa,EAC/D;MACAnB,aAAa,CAACY,IAAI,CAAC;QACjBQ,MAAM,EAAEhB,MAAM;QACdiB,SAAS,EAAEhB,SAAS;QACpBiB,UAAU,EAAEhB,UAAU;QACtBiB,KAAK,EAAEhB;MACT,CAAC,CAAC;IACJ;IACA,IACEJ,OAAO,CAACe,IAAI,CAACC,EAAE,KAAK,gBAAgB,IACpChB,OAAO,CAACK,cAAc,CAACC,cAAc,CAACC,IAAI,CAACS,EAAE,KAAK,aAAa,EAC/D;MACAlB,aAAa,CAACW,IAAI,CAAC;QACjBQ,MAAM,EAAEhB,MAAM;QACdiB,SAAS,EAAEhB,SAAS;QACpBiB,UAAU,EAAEhB,UAAU;QACtBiB,KAAK,EAAEhB;MACT,CAAC,CAAC;IACJ;IACA,IACEJ,OAAO,CAACe,IAAI,CAACC,EAAE,KAAK,gBAAgB,IACpChB,OAAO,CAACK,cAAc,CAACC,cAAc,CAACC,IAAI,CAACS,EAAE,KAAK,eAAe,EACjE;MACAf,MAAM,GAAGA,MAAM,CAACoB,GAAG,CAAC,UAACC,GAAG;QAAA,OAAK,GAAG,GAAGA,GAAG;MAAA,EAAC;MACvCzB,aAAa,CAACY,IAAI,CAAC;QACjBQ,MAAM,EAAEhB,MAAM;QACdiB,SAAS,EAAEhB,SAAS;QACpBiB,UAAU,EAAEhB,UAAU;QACtBiB,KAAK,EAAEhB;MACT,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,IAAImB,KAAK,GAAG,CAACzB,aAAa,EAAED,aAAa,CAAC;EAC1C;EACA;EACA,OAAO0B,KAAK;AACd","ignoreList":[]},"metadata":{},"sourceType":"module"}