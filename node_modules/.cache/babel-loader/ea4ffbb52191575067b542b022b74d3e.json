{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\LevinL\\xF8ssfelt\\\\Repositories\\\\Infotavle\\\\src\\\\funcStrompriserDiagram.js\";\nimport React from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport \"chartjs-plugin-annotation\"; // Importer plugin for å legge til annotasjoner\n\nvar StrompriserDiagram = function StrompriserDiagram(_ref) {\n  var apiData = _ref.apiData;\n  var labels = apiData.map(function (entry) {\n    return new Date(entry.time_start).toLocaleTimeString(\"no-NO\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  });\n  var prices = apiData.map(function (entry) {\n    return entry.NOK_per_kWh;\n  });\n\n  // Beregn nåværende tid for vertikal linje\n  var now = new Date();\n  var nowHour = now.getHours(); // Henter nåværende time\n  var nowLabel = \"\".concat(String(nowHour).padStart(2, \"0\"), \":00\"); // Formatter som \"hh:00\"\n\n  // Dynamisk fargelegging basert på pris\n  var pointColors = prices.map(function (price) {\n    if (price < 1) {\n      return \"rgba(75, 192, 75, 1)\"; // Grønn\n    } else if (price >= 1 && price <= 5) {\n      return \"rgba(255, 205, 86, 1)\"; // Gul\n    } else {\n      return \"rgba(255, 99, 132, 1)\"; // Rød\n    }\n  });\n  var data = {\n    labels: labels,\n    datasets: [{\n      label: \"Strømpris (NOK/kWh)\",\n      data: prices,\n      borderColor: \"rgba(200, 200, 200, 0.5)\",\n      // Subtil grå linje\n      backgroundColor: pointColors,\n      // Farger punktene\n      pointBackgroundColor: pointColors,\n      // Gjør punktene tydelige\n      pointBorderColor: pointColors,\n      // Tydelig kant rundt punktene\n      pointRadius: 5,\n      // Øk punktstørrelse for synlighet\n      pointHoverRadius: 7,\n      // Øker punktstørrelse ved hover\n      fill: false // Ikke fyll under linjen\n    }]\n  };\n  var options = {\n    legend: {\n      display: false // Skjuler legend\n    },\n    scales: {\n      xAxes: [{\n        display: true // Holder x-aksen synlig\n      }],\n      yAxes: [{\n        display: true // Holder y-aksen synlig\n      }]\n    },\n    annotation: {\n      annotations: [{\n        type: \"line\",\n        mode: \"vertical\",\n        scaleID: \"x-axis-0\",\n        // Må matche ID-en til x-aksen\n        value: nowLabel,\n        // Tidspunktet du vil markere\n        borderColor: \"rgba(255, 0, 0, 0.8)\",\n        // Rød linje\n        borderWidth: 2,\n        label: {\n          enabled: true,\n          content: \"Nå\",\n          position: \"bottom\" // Plassering av teksten\n        }\n      }]\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    data: data,\n    options: options,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }));\n};\nexport default StrompriserDiagram;","map":{"version":3,"names":["React","Line","StrompriserDiagram","_ref","apiData","labels","map","entry","Date","time_start","toLocaleTimeString","hour","minute","prices","NOK_per_kWh","now","nowHour","getHours","nowLabel","concat","String","padStart","pointColors","price","data","datasets","label","borderColor","backgroundColor","pointBackgroundColor","pointBorderColor","pointRadius","pointHoverRadius","fill","options","legend","display","scales","xAxes","yAxes","annotation","annotations","type","mode","scaleID","value","borderWidth","enabled","content","position","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/LevinLøssfelt/Repositories/Infotavle/src/funcStrompriserDiagram.js"],"sourcesContent":["import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport \"chartjs-plugin-annotation\"; // Importer plugin for å legge til annotasjoner\r\n\r\nconst StrompriserDiagram = ({ apiData }) => {\r\n  const labels = apiData.map((entry) =>\r\n    new Date(entry.time_start).toLocaleTimeString(\"no-NO\", {\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    })\r\n  );\r\n  const prices = apiData.map((entry) => entry.NOK_per_kWh);\r\n\r\n  // Beregn nåværende tid for vertikal linje\r\n  const now = new Date();\r\n  const nowHour = now.getHours(); // Henter nåværende time\r\n  const nowLabel = `${String(nowHour).padStart(2, \"0\")}:00`; // Formatter som \"hh:00\"\r\n\r\n  // Dynamisk fargelegging basert på pris\r\n  const pointColors = prices.map((price) => {\r\n    if (price < 1) {\r\n      return \"rgba(75, 192, 75, 1)\"; // Grønn\r\n    } else if (price >= 1 && price <= 5) {\r\n      return \"rgba(255, 205, 86, 1)\"; // Gul\r\n    } else {\r\n      return \"rgba(255, 99, 132, 1)\"; // Rød\r\n    }\r\n  });\r\n\r\n  const data = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: \"Strømpris (NOK/kWh)\",\r\n        data: prices,\r\n        borderColor: \"rgba(200, 200, 200, 0.5)\", // Subtil grå linje\r\n        backgroundColor: pointColors, // Farger punktene\r\n        pointBackgroundColor: pointColors, // Gjør punktene tydelige\r\n        pointBorderColor: pointColors, // Tydelig kant rundt punktene\r\n        pointRadius: 5, // Øk punktstørrelse for synlighet\r\n        pointHoverRadius: 7, // Øker punktstørrelse ved hover\r\n        fill: false, // Ikke fyll under linjen\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    legend: {\r\n      display: false, // Skjuler legend\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n          display: true, // Holder x-aksen synlig\r\n        },\r\n      ],\r\n      yAxes: [\r\n        {\r\n          display: true, // Holder y-aksen synlig\r\n        },\r\n      ],\r\n    },\r\n    annotation: {\r\n      annotations: [\r\n        {\r\n          type: \"line\",\r\n          mode: \"vertical\",\r\n          scaleID: \"x-axis-0\", // Må matche ID-en til x-aksen\r\n          value: nowLabel, // Tidspunktet du vil markere\r\n          borderColor: \"rgba(255, 0, 0, 0.8)\", // Rød linje\r\n          borderWidth: 2,\r\n          label: {\r\n            enabled: true,\r\n            content: \"Nå\",\r\n            position: \"bottom\", // Plassering av teksten\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Line data={data} options={options} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StrompriserDiagram;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}